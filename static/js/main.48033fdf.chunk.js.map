{"version":3,"sources":["actions/actionTypes.js","actions/actionCreators.js","components/ServiceAdd.js","components/ServiceList.js","components/ServiceChange.js","App.js","reducers/serviceListReducer.js","reducers/serviceAddReducer.js","reducers/serviceChangeReducer.js","reducers/serviseIsLoadingReducer.js","store/index.js","index.js"],"names":["REMOVE_SERVICE","CHANGE_ADD_SERVICE_FIELD","FETCH_SERVICES_REQUEST","FETCH_SERVICES_FAILURE","FETCH_SERVICES_SUCCESS","IS_LOADING_REQUEST","IS_LOADING_FAILURE","IS_LOADING_SUCCESS","ADD_SERVICES_REQUEST","ADD_SERVICES_FAILURE","ADD_SERVICES_SUCCESS","CHANGE_SERVICE_FIELD","CHANGE_SERVICES_REQUEST","CHANGE_SERVICES_FAILURE","CHANGE_SERVICES_SUCCESS","CHANGE_SERVICES_INIT","fetchServiceRequest","type","fetchServiceFailure","error","payload","fetchServiceSuccess","items","changeServiceSuccess","changeServiceInit","data","fetchService","dispatch","a","id","url","process","fetch","response","ok","Error","statusText","json","message","addService","name","price","method","headers","body","JSON","stringify","changeService","content","goBack","console","log","removeService","ServiceAdd","props","useSelector","state","serviceAdd","item","loading","useDispatch","handleChange","event","target","value","nameField","changeAddServiceField","onSubmit","preventDefault","className","onChange","disabled","ServiceList","match","history","serviceList","serviceIsLoadng","isLoading","isError","useEffect","onClick","map","o","EditFilled","push","DeleteFilled","handleRemove","ServiceChange","serviceChange","chLoading","chError","useState","firstLoad","setFirstLoad","Number","params","changeServiceField","App","window","location","pathname","path","component","exact","from","to","initialState","reducer","combineReducers","action","removeItem","filter","service","store","createStore","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.48033fdf.chunk.js","sourcesContent":["export const ADD_SERVICE = \"ADD_SERVICE\";\nexport const REMOVE_SERVICE = \"REMOVE_SERVICE\";\nexport const CHANGE_ADD_SERVICE_FIELD = \"CHANGE_ADD_SERVICE_FIELD\";\nexport const CHANGE_SERVICE = \"CHANGE_SERVICE\";\nexport const CHANGE_SERVICE_CANCEL = \"CHANGE_SERVICE_CANCEL\";\nexport const FETCH_SERVICES_REQUEST = \"FETCH_SERVICES_REQUEST\";\nexport const FETCH_SERVICES_FAILURE = \"FETCH_SERVICES_FAILURE\";\nexport const FETCH_SERVICES_SUCCESS = \"FETCH_SERVICES_SUCCESS\";\nexport const FETCH_SERVICES_END_LOADING = \"FETCH_SERVICES_END_LOADING\";\nexport const IS_LOADING_REQUEST = \"IS_LOADING_REQUEST\";\nexport const IS_LOADING_FAILURE = \"IS_LOADING_FAILURE\";\nexport const IS_LOADING_SUCCESS = \"IS_LOADING_SUCCESS\";\nexport const ADD_SERVICES_REQUEST = \"ADD_SERVICES_REQUEST\";\nexport const ADD_SERVICES_FAILURE = \"ADD_SERVICES_FAILURE\";\nexport const ADD_SERVICES_SUCCESS = \"ADD_SERVICES_SUCCESS\";\nexport const CHANGE_SERVICE_FIELD = \"CHANGE_SERVICE_FIELD\";\nexport const CHANGE_SERVICES_REQUEST = \"CHANGE_SERVICES_REQUEST\";\nexport const CHANGE_SERVICES_FAILURE = \"CHANGE_SERVICES_FAILURE\";\nexport const CHANGE_SERVICES_SUCCESS = \"CHANGE_SERVICES_SUCCESS\";\nexport const CHANGE_SERVICES_INIT = \"CHANGE_SERVICES_INIT\";\n","import {\n  CHANGE_SERVICE_FIELD,\n  CHANGE_ADD_SERVICE_FIELD,\n  CHANGE_SERVICE_CANCEL,\n  FETCH_SERVICES_REQUEST,\n  FETCH_SERVICES_FAILURE,\n  FETCH_SERVICES_SUCCESS,\n  FETCH_SERVICES_END_LOADING,\n  IS_LOADING_REQUEST,\n  IS_LOADING_FAILURE,\n  ADD_SERVICES_REQUEST,\n  ADD_SERVICES_FAILURE,\n  ADD_SERVICES_SUCCESS,\n  CHANGE_SERVICES_REQUEST,\n  CHANGE_SERVICES_FAILURE,\n  CHANGE_SERVICES_SUCCESS,\n  CHANGE_SERVICES_INIT,\n  IS_LOADING_SUCCESS,\n} from \"./actionTypes\";\n\nexport function changeAddServiceField(nameField, value) {\n  return { type: CHANGE_ADD_SERVICE_FIELD, payload: { nameField, value } };\n}\n\nexport function changeServiceField(nameField, value) {\n  return { type: CHANGE_SERVICE_FIELD, payload: { nameField, value } };\n}\n\nexport function changeServiceCancel() {\n  return { type: CHANGE_SERVICE_CANCEL };\n}\n\nexport function fetchServiceRequest() {\n  return { type: FETCH_SERVICES_REQUEST };\n}\n\nexport function fetchServiceFailure(error) {\n  return { type: FETCH_SERVICES_FAILURE, payload: { error } };\n}\n\nexport function fetchServiceSuccess(items) {\n  return { type: FETCH_SERVICES_SUCCESS, payload: items };\n}\n\nexport function addServiceRequest() {\n  return { type: ADD_SERVICES_REQUEST };\n}\n\nexport function addServiceFailure(error) {\n  return { type: ADD_SERVICES_FAILURE, payload: { error } };\n}\n\nexport function addServiceSuccess() {\n  return { type: ADD_SERVICES_SUCCESS };\n}\n\nexport function changeServiceRequest() {\n  return { type: CHANGE_SERVICES_REQUEST };\n}\n\nexport function changeServiceFailure(error) {\n  return { type: CHANGE_SERVICES_FAILURE, payload: { error } };\n}\n\nexport function changeServiceSuccess() {\n  return { type: CHANGE_SERVICES_SUCCESS };\n}\n\nexport function changeServiceInit(data) {\n  return { type: CHANGE_SERVICES_INIT, payload: data };\n}\n\nexport function fetchServiceEndLoading() {\n  return { type: FETCH_SERVICES_END_LOADING };\n}\n\nexport function isLoadingRequest() {\n  return { type: IS_LOADING_REQUEST };\n}\n\nexport function isLoadingFailure(error) {\n  return { type: IS_LOADING_FAILURE, payload: { error } };\n}\nexport function isLoadingSuccess() {\n  return { type: IS_LOADING_SUCCESS };\n}\n\nexport const fetchService = async (dispatch, id = null) => {\n  dispatch(fetchServiceRequest());\n  const url = id\n    ? `${process.env.REACT_APP_LOCAL_URL}/${id}`\n    : process.env.REACT_APP_LOCAL_URL;\n  try {\n    const response = await fetch(url);\n    if (!response.ok) {\n      throw new Error(response.statusText);\n    }\n    const data = await response.json();\n    if (id) {\n      dispatch(changeServiceInit(data));\n    } else {\n      dispatch(fetchServiceSuccess({ data }));\n    }\n  } catch (e) {\n    dispatch(fetchServiceFailure({ error: e.message }));\n  }\n};\n\nexport const addService = async (dispatch, name, price) => {\n  dispatch(addServiceRequest());\n  try {\n    await fetch(process.env.REACT_APP_LOCAL_URL, {\n      method: \"POST\",\n      headers: {\n        \"Content-type\": \"application/json\",\n      },\n      body: JSON.stringify({ name, price }),\n    });\n    // eslint-disable-next-line no-undef\n    if (id) {\n      dispatch(changeServiceSuccess());\n    } else {\n      dispatch(addServiceSuccess());\n      fetchService(dispatch);\n    }\n  } catch (e) {\n    dispatch(addServiceFailure(e.message));\n  }\n};\n\nexport const changeService = async (\n  dispatch,\n  id,\n  name,\n  price,\n  content,\n  goBack\n) => {\n  dispatch(changeServiceRequest());\n  try {\n    // eslint-disable-next-line no-unused-vars\n    const resp = await fetch(process.env.REACT_APP_LOCAL_URL, {\n      method: \"POST\",\n      headers: {\n        \"Content-type\": \"application/json\",\n      },\n      body: JSON.stringify({ id, name, price, content }),\n    });\n    dispatch(changeServiceSuccess());\n  } catch (e) {\n    console.log(e);\n    dispatch(changeServiceFailure({ error: e.message }));\n  }\n};\n\nexport const removeService = async (dispatch, id) => {\n  dispatch(isLoadingRequest());\n  try {\n    await fetch(`${process.env.REACT_APP_LOCAL_URL}/${id}`, {\n      method: \"DELETE\",\n    });\n  } catch (e) {\n    dispatch(isLoadingFailure(e.message));\n  } finally {\n    dispatch(isLoadingSuccess());\n    fetchService(dispatch);\n  }\n};\n","import React from \"react\";\nimport { useSelector, useDispatch } from \"react-redux\";\nimport { changeAddServiceField, addService } from \"../actions/actionCreators\";\n\nexport default function ServiceAdd(props) {\n  const { item, loading, error } = useSelector((state) => state.serviceAdd);\n  const dispatch = useDispatch();\n  \n  const handleChange = (event) => {\n    const { name, value } = event.target;\n    dispatch(changeAddServiceField(name, value));\n  };\n\n  const handleSubmit = (event) => {\n    event.preventDefault();\n    addService(dispatch, item.name, item.price);\n  };\n\n  return (\n    <form onSubmit={handleSubmit}>\n      {error && <div className=\"error-msg\">Произошла ошибка!</div>}\n      <input name=\"name\" onChange={handleChange} value={item.name} />\n      <input name=\"price\" onChange={handleChange} value={item.price} />\n      {!loading && (\n        <button className=\"ui inverted green button\" type=\"submit\" disabled={loading}>\n          Save\n        </button>\n      )}\n      {loading && <div className=\"ui active slow green double loader\"></div>}\n    </form>\n  );\n}\n","import React, { useEffect } from \"react\";\nimport { useSelector, useDispatch } from \"react-redux\";\nimport { removeService, fetchService } from \"../actions/actionCreators\";\nimport ServiceAdd from \"./ServiceAdd\";\nimport { EditFilled, DeleteFilled } from \"@ant-design/icons\";\n\nfunction ServiceList(props) {\n  const { match, history } = props;\n  const { items, loading, error } = useSelector((state) => state.serviceList);\n  \n  // eslint-disable-next-line no-unused-vars\n  const { isLoading, isError } = useSelector((state) => state.serviceIsLoadng);\n  const dispatch = useDispatch();\n\n  useEffect(() => {\n    fetchService(dispatch);\n  }, [dispatch]);\n\n  const handleRemove = (id) => {\n    removeService(dispatch, id);\n  };\n\n  const handleChange = (id) => {\n    history.push(`${match.url}/${id}`);\n  };\n\n  const handleRefresh = () => {\n    fetchService(dispatch);\n  };\n\n  if (loading) {\n    return <div className=\"ui active slow green double loader\"></div>;\n  }\n\n  if (error) {\n    return (\n      <>\n        <div className=\"error-msg\">Произошла ошибка!</div>\n        <button className=\"ui red basic button\" onClick={handleRefresh}>\n          Refresh\n        </button>\n      </>\n    );\n  }\n\n  return (\n    <>\n      <ServiceAdd />\n      <ul>\n        {items &&\n          items.map((o) => (\n            <li key={o.id}>\n              {o.name} {o.price}\n              <EditFilled\n                className=\"button btn\"\n                onClick={() => handleChange(o.id)}\n              />\n              <DeleteFilled\n                className=\"button\"\n                onClick={() => handleRemove(o.id)}\n                disabled={isLoading}\n              />\n            </li>\n          ))}\n      </ul>\n    </>\n  );\n}\n\nexport default ServiceList;\n","import React, { useEffect, useState } from \"react\";\nimport { useSelector, useDispatch } from \"react-redux\";\nimport {\n  changeServiceField,\n  changeService,\n  fetchService,\n} from \"../actions/actionCreators\";\n\nfunction ServiceChange(props) {\n  const { match, history } = props;\n  const { item, chLoading, chError } = useSelector( (state) => state.serviceChange );\n  const { loading, error } = useSelector((state) => state.serviceList);\n  const [firstLoad, setFirstLoad] = useState(true);\n  const dispatch = useDispatch();\n  const id = Number(match.params.id);\n  useEffect(() => {\n    if (!firstLoad && !chLoading) {\n      history.goBack();\n    }\n    if (firstLoad) {\n      setFirstLoad(false);\n      fetchService(dispatch, id);\n    }\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [dispatch, chLoading]);\n\n  const handleSubmit = (event) => {\n    event.preventDefault();\n    changeService(dispatch, id, item.name, item.price, item.content);\n  };\n\n  const handleCancel = () => {\n    history.goBack();\n  };\n\n  const handleChange = (event) => {\n    const { name, value } = event.target;\n    dispatch(changeServiceField(name, value));\n  };\n\n  const handleBack = () => {\n    history.goBack();\n  };\n\n  if (loading) {\n    return <div className=\"ui active slow green double loader\"></div>;\n  }\n\n  if (error) {\n    return (\n      <div>\n        <div className=\"error-msg\">Произошла ошибка!</div>\n        <div onClick={handleBack}>Назад</div>\n      </div>\n    );\n  }\n\n  return (\n    <>\n      <form\n        onSubmit={handleSubmit}\n        disabled={chLoading}\n        className=\"change-form\"\n      >\n        <label>Название</label>\n        <input name=\"name\" onChange={handleChange} value={item.name} />\n        <label>Стоимость</label>\n        <input name=\"price\" onChange={handleChange} value={item.price} />\n        <label>Описание</label>\n        <input name=\"content\" onChange={handleChange} value={item.content} />\n        <div className=\"buttons\">\n          <button type=\"button\" onClick={handleCancel}>\n            Отмена\n          </button>\n          {!chLoading && <button type=\"submit\">Сохранить</button>}\n        </div>\n      </form>\n      {chLoading && <div className=\"ui active slow green double loader\"></div>}\n      {chError && <p>{chError.message}</p>}\n    </>\n  );\n}\n\nexport default ServiceChange;\n","import React from 'react';\nimport './App.css';\nimport { BrowserRouter as Router, Route, Redirect, Switch } from 'react-router-dom';\nimport ServiceList from './components/ServiceList';\nimport ServiceChange from './components/ServiceChange';\n\nexport default function App(props) {\n  const url = window.location.pathname;\n  return (\n    <>\n      <Router>\n        <Switch>\n          <Route path={`${url}services/:id`} component={ServiceChange} />\n          <Route path={`${url}services`} component={ServiceList} />\n          <Redirect exact from={`${url}`} to={`${url}services`} />\n        </Switch>\n      </Router>\n    </>\n  );\n}\n","import {\n    REMOVE_SERVICE,\n    FETCH_SERVICES_REQUEST,\n    FETCH_SERVICES_FAILURE,\n    FETCH_SERVICES_SUCCESS,\n    CHANGE_SERVICES_INIT,\n  } from \"../actions/actionTypes\";\n  \n  const initialState = {\n    items: [],\n    loading: false,\n    error: null,\n  };\n  \n  export default function serviceListReducer(state = initialState, action) {\n    switch (action.type) {\n      case FETCH_SERVICES_REQUEST:\n        return { ...state, loading: true, error: null };\n  \n      case FETCH_SERVICES_FAILURE:\n        const { error } = action.payload;\n        return { ...state, loading: false, error };\n  \n      case FETCH_SERVICES_SUCCESS:\n        const { data } = action.payload;\n        return { ...state, items: data, loading: false, error: null };\n  \n      case REMOVE_SERVICE:\n        const removeItem = action.payload;\n        return state.items.filter((service) => service.id !== removeItem.id);\n  \n      case CHANGE_SERVICES_INIT:\n        return { ...state, loading: false, error: null };\n  \n      default:\n        return state;\n    }\n  }\n  ","import {\n    CHANGE_ADD_SERVICE_FIELD,\n    ADD_SERVICES_REQUEST,\n    ADD_SERVICES_SUCCESS,\n    ADD_SERVICES_FAILURE,\n  } from \"../actions/actionTypes\";\n  \n  const initialState = {\n    item: { name: \"\", price: \"\" },\n    loading: false,\n    error: null,\n  };\n  \n  export default function serviceAddReducer(state = initialState, action) {\n    switch (action.type) {\n      case CHANGE_ADD_SERVICE_FIELD:\n        const { nameField, value } = action.payload;\n        const { item } = state;\n        return { ...state, item: { ...item, [nameField]: value, } };\n  \n      case ADD_SERVICES_REQUEST:\n        return { ...state, loading: true, error: null };\n  \n      case ADD_SERVICES_SUCCESS:\n        return { ...initialState };\n  \n      case ADD_SERVICES_FAILURE:\n        const { error } = action.payload;\n        return { ...state, loading: false, error };\n  \n      default:\n        return state;\n    }\n  }\n  \n","import {\n    CHANGE_SERVICE_FIELD,\n    CHANGE_SERVICES_REQUEST,\n    CHANGE_SERVICES_FAILURE,\n    CHANGE_SERVICES_SUCCESS,\n    CHANGE_SERVICES_INIT,\n  } from \"../actions/actionTypes\";\n  \n  const initialState = {\n    item: {\n      id: \"\",\n      name: \"\",\n      price: \"\",\n      content: \"\",\n    },\n    chLoading: false,\n    chError: null,\n  };\n  \n  export default function serviceAddReducer(state = initialState, action) {\n    switch (action.type) {\n      case CHANGE_SERVICE_FIELD:\n        const { nameField, value } = action.payload;\n        return { ...state, item: { ...state.item, [nameField]: value, }, };\n  \n      case CHANGE_SERVICES_REQUEST:\n        return { ...state, chLoading: true, chError: null };\n  \n      case CHANGE_SERVICES_FAILURE:\n        const { error } = action.payload;\n        return { ...state, chLoading: false, chError: error };\n  \n      case CHANGE_SERVICES_SUCCESS:\n        return { ...initialState };\n  \n      case CHANGE_SERVICES_INIT:\n        const { id, name, price, content } = action.payload;\n        return {\n          ...state,\n          chLoading: false,\n          chError: null,\n          item: {\n            id,\n            name,\n            price,\n            content,\n          },\n        };\n  \n      default:\n        return state;\n    }\n  }\n  ","import {\n    IS_LOADING_REQUEST,\n    IS_LOADING_FAILURE,\n    IS_LOADING_SUCCESS,\n  } from \"../actions/actionTypes\";\n  \n  const initialState = {\n    isLoading: false,\n    isError: null,\n  };\n  \n  export default function serviceIsLoadingReducer(state = initialState, action) {\n    switch (action.type) {\n      case IS_LOADING_REQUEST:\n        return { ...state, isLoading: true };\n  \n      case IS_LOADING_FAILURE:\n        const { error } = action.payload;\n        return { ...state, isLoading: false, isError: error };\n  \n      case IS_LOADING_SUCCESS:\n        return { ...initialState };\n  \n      default:\n        return state;\n    }\n  }\n  ","import { createStore, combineReducers } from \"redux\";\nimport serviceListReducer from \"../reducers/serviceListReducer\";\nimport serviceAddReducer from \"../reducers/serviceAddReducer\";\nimport serviceChangeReducer from \"../reducers/serviceChangeReducer\";\nimport serviceIsLoadingReducer from \"../reducers/serviseIsLoadingReducer\";\n\nconst reducer = combineReducers({\n  serviceList: serviceListReducer,\n  serviceAdd: serviceAddReducer,\n  serviceChange: serviceChangeReducer,\n  serviceIsLoadng: serviceIsLoadingReducer,\n});\n\nconst store = createStore(reducer);\n\nexport default store;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\nimport store from './store';\nimport {Provider} from 'react-redux';\n\nReactDOM.render(\n  <Provider store={store}>\n    <App />\n  </Provider>,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}